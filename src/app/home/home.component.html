<div fxLayout="column">
  <div *ngIf="isLoading; else templateName">
    <mat-progress-spinner
      class="example-margin"
      [color]="color"
      [mode]="mode"
      [value]="value">
    </mat-progress-spinner>
  </div>
  <ng-template #templateName>
    <div> Last updated : {{ latestUpdateDate }}</div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div>
        <mat-card class="klsechart">
          <!--<mat-card-header>-->
          <!--<div mat-card-avatar class="example-header-image"></div>-->
          <!--<mat-card-title>KLSE</mat-card-title>-->
          <!--</mat-card-header>-->
          <mat-card-content>
            <div id="klseDiv">
              <highcharts-chart
                [Highcharts]="Highcharts"

                [constructorType]="chartConstructor"
                [options]="chartOptions"

                [(update)]="updateFlag"
                [oneToOne]="oneToOneFlag"

                style="width: 100%; height: 400px; display: block;"
              ></highcharts-chart>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <div fxLayout="column" fxLayoutGap="10px">
      <div class="marketoverview"><h2>Market Overview</h2></div>
      <div class="inputclass">
        <mat-grid-list cols="3" rowHeight ="35px">
          <mat-grid-tile>
            <mat-select placeholder="Date" [(ngModel)]="selectedDate">
              <mat-option *ngFor="let date of tradingDates" [value]="date">
                {{date}}
              </mat-option>
            </mat-select></mat-grid-tile>
          <mat-grid-tile>

            <mat-select placeholder="Sector" [(ngModel)]="selectedSector">
              <mat-option *ngFor="let sector of sectorList" [value]="sector">
                {{sector}}
              </mat-option>
            </mat-select>
          </mat-grid-tile>
          <mat-grid-tile>
            <button mat-raised-button>View</button>
          </mat-grid-tile>

        </mat-grid-list>


      </div>

      <div class="marketoverview-center" fxFlexAlign="center" fxLayout="column">
        <mat-table matSort (matSortChange)="sortData($event)"   [dataSource]="marketOverviewDataSource">

          <!-- Symbol Column -->
          <ng-container matColumnDef="symbol">
            <mat-header-cell class="cell-class"  fxFlex="{{ symbolWidth }}" *matHeaderCellDef mat-sort-header> Symbol </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{  symbolWidth }}" *matCellDef="let element"> {{element.symbol}} </mat-cell>
          </ng-container>

          <!-- marketcap Column -->
          <ng-container matColumnDef="marketcap">
            <mat-header-cell class="cell-class"  fxFlex="{{ marketCapWidth }}" *matHeaderCellDef mat-sort-header> Market Cap </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ marketCapWidth }}" *matCellDef="let element"> {{element.marketcap | number}} </mat-cell>
          </ng-container>

          <!-- Turn Over Column -->
          <ng-container matColumnDef="turnover1day">
            <mat-header-cell class="cell-class"  fxFlex="{{ turnOverWidth }}" *matHeaderCellDef mat-sort-header> Turn Over (per day))</mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ turnOverWidth }}" *matCellDef="let element"> {{element.turnover1day | number:'1.3-3'}} </mat-cell>
          </ng-container>

          <!-- Money in 5 days Column -->
          <ng-container matColumnDef="moneyflowin5days">
            <mat-header-cell class="cell-class"  fxFlex="{{ moneyflowin5daysWidth }}" *matHeaderCellDef mat-sort-header> Money Flow In (5 days) </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ moneyflowin5daysWidth }}" *matCellDef="let element"> {{ element.moneyflowin5days | number }} </mat-cell>
          </ng-container>

          <!-- Money out 5 days Column -->
          <ng-container matColumnDef="moneyflowout5days">
            <mat-header-cell class="cell-class"  fxFlex="{{ moneyflowout5dayWidth }}" *matHeaderCellDef mat-sort-header> Money Flow out (5 days) </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ moneyflowout5dayWidth }}" *matCellDef="let element"> {{ element.moneyflowout5days | number }} </mat-cell>
          </ng-container>

          <!-- Net Money 5 days Column -->
          <ng-container matColumnDef="moneyflow5days">
            <mat-header-cell class="cell-class"  fxFlex="{{ netmoneyflow5daysWidth }}" *matHeaderCellDef mat-sort-header> Net Money Flow (5 days) </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ netmoneyflow5daysWidth }}" *matCellDef="let element"> {{ element.moneyflow5days | number }} </mat-cell>
          </ng-container>

          <!-- Money in 15 days Column -->
          <ng-container matColumnDef="moneyflowin15days">
            <mat-header-cell class="cell-class"  fxFlex="{{ moneyflowin15daysWidth }}" *matHeaderCellDef mat-sort-header> Money Flow In (15 days) </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ moneyflowin15daysWidth }}" *matCellDef="let element"> {{ element.moneyflowin15days | number }} </mat-cell>
          </ng-container>

          <!-- Money out 15 days Column -->
          <ng-container matColumnDef="moneyflowout15days">
            <mat-header-cell class="cell-class"  fxFlex="{{ moneyflowout15daysWidth }}" *matHeaderCellDef mat-sort-header> Money Flow out (15 days) </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ moneyflowout15daysWidth }}" *matCellDef="let element"> {{ element.moneyflowout15days | number }} </mat-cell>
          </ng-container>

          <!-- Net Money 15 days Column -->
          <ng-container matColumnDef="moneyflow15days">
            <mat-header-cell class="cell-class"  fxFlex="{{ netmoneyflow15daysWidth }}" *matHeaderCellDef mat-sort-header> Net Money Flow (15 days) </mat-header-cell>
            <mat-cell class="cell-class"  fxFlex="{{ netmoneyflow15daysWidth }}" *matCellDef="let element"> {{ element.moneyflow15days | number }} </mat-cell>
          </ng-container>



          <mat-header-row  class="my-mat-row" *matHeaderRowDef="marketOverViewColumns"></mat-header-row>
          <mat-row class="my-mat-row" *matRowDef="let row; columns: marketOverViewColumns;"  ></mat-row>
        </mat-table>
      </div>












    </div>









  </ng-template>


  <!---->
  <!--<div class="toppadding" fxLayout="row" fxLayoutAlign="center">-->
    <!--<div>-->
      <!--<div class="topgainer">-->
        <!--<mat-card>-->
          <!--<mat-card-header>-->
            <!--<div mat-card-avatar class="example-header-image"></div>-->
            <!--<mat-card-title>Top Losers</mat-card-title>-->
          <!--</mat-card-header>-->
          <!--<mat-card-content>-->
            <!--<table mat-table [dataSource]="topLosersDateSource" class="topgainerpcttable">-->

              <!--&lt;!&ndash;- Note that these columns can be defined in any order.-->
                    <!--The actual rendered columns are set as a property on the row definition" &ndash;&gt;-->

              <!--&lt;!&ndash; Stock Column &ndash;&gt;-->
              <!--<ng-container matColumnDef="stock">-->
                <!--<th mat-header-cell *matHeaderCellDef> Stock </th>-->
                <!--<td mat-cell *matCellDef="let element"> {{element.stock}} </td>-->
              <!--</ng-container>-->

              <!--&lt;!&ndash; Last Column &ndash;&gt;-->
              <!--<ng-container matColumnDef="last">-->
                <!--<th mat-header-cell *matHeaderCellDef> Last </th>-->
                <!--<td mat-cell *matCellDef="let element"> {{element.last}} </td>-->
              <!--</ng-container>-->

              <!--&lt;!&ndash; Change Column &ndash;&gt;-->
              <!--<ng-container matColumnDef="change">-->
                <!--<th mat-header-cell *matHeaderCellDef> Change </th>-->
                <!--<td mat-cell *matCellDef="let element"> +{{element.change}} </td>-->
              <!--</ng-container>-->

              <!--<tr mat-header-row *matHeaderRowDef="topGainersColumns"></tr>-->
              <!--<tr mat-row *matRowDef="let row; columns: topGainersColumns;"></tr>-->
            <!--</table>-->
          <!--</mat-card-content>-->
        <!--</mat-card>-->
    <!--</div>-->

    <!--<div>-->
      <!--<mat-card >-->
        <!--<mat-card-header>-->
          <!--<div mat-card-avatar class="example-header-image"></div>-->
          <!--<mat-card-title>Top Losers (%)</mat-card-title>-->
        <!--</mat-card-header>-->

        <!--<mat-card-content>-->
          <!--<p>-->
            <!--The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan.-->
            <!--A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally-->
            <!--bred for hunting.-->
          <!--</p>-->
        <!--</mat-card-content>-->
        <!--<mat-card-actions>-->
          <!--<button mat-button>LIKE</button>-->
          <!--<button mat-button>SHARE</button>-->
        <!--</mat-card-actions>-->
      <!--</mat-card>-->
    <!--</div>-->
  <!--</div>-->
  <!--<div class="toppadding" fxLayout="row" fxLayoutAlign="center">-->

  <!--</div>-->
<!--</div>-->

</div>



